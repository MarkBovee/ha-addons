{
  "enabled": true,
  "dry_run": true,
  "entities": {
    "price_curve_entity": "sensor.energy_prices_electricity_import_price",
    "export_price_curve_entity": "sensor.energy_prices_electricity_export_price",
    "soc_entity": "sensor.debug_fixed_soc",
    "grid_power_entity": "sensor.battery_api_grid_power",
    "solar_power_entity": "sensor.battery_api_pv_power",
    "house_load_entity": "sensor.battery_api_load_power",
    "temperature_entity": "sensor.temperatuur_1d"
  },
  "timing": {
    "update_interval": 3600,
    "monitor_interval": 60,
    "adaptive_power_grace_seconds": 60,
    "schedule_regen_cooldown_seconds": 60
  },
  "power": {
    "max_charge_power": 8000,
    "max_discharge_power": 8000,
    "min_discharge_power": 0,
    "min_scaled_power": 4000
  },
  "soc": {
    "min_soc": 5,
    "conservative_soc": 40,
    "target_eod_soc": 20,
    "max_soc": 100
  },
  "heuristics": {
    "top_x_charge_hours": 3,
    "top_x_discharge_hours": 2,
    "excess_solar_threshold": 1000,
    "min_profit_threshold": 0.1,
    "overnight_wait_threshold": 0.02
  },
  "temperature_based_discharge": {
    "enabled": true,
    "thresholds": [
      { "temp_max": 0, "discharge_hours": 1 },
      { "temp_max": 8, "discharge_hours": 1 },
      { "temp_max": 16, "discharge_hours": 2 },
      { "temp_max": 20, "discharge_hours": 2 },
      { "temp_max": 999, "discharge_hours": 3 }
    ]
  },
  "ev_charger": {
    "enabled": true,
    "charging_threshold": 500,
    "entity_id": "sensor.charge_amps_monitor_charger_current_power"
  },
  "mqtt_host": "core-mosquitto",
  "mqtt_port": 1883,
  "mqtt_user": "",
  "mqtt_password": ""
}
